<div id="dialog">
  <h2><span class="secondary-text">@ebay/skin/</span>dialog</h2>
  <p>A dialog is a child window spawned by the main web page or application.</p>
  <p>This window forms a new background layer in our design system topography.</p>
  <p>A dialog must remain in a
    <span class="highlight">hidden</span> state for all users and devices until called upon.</p>
  <p>All dialogs have support for
    <em>optional</em> CSS transition effects. See
    <a href="#dialog-transitions">dialog transitions</a> section for more details.</p>

  <h3>Default Dialog</h3>
  <p>The default dialog is a lightbox.</p>
  <p>The lightbox will have a margin of 15vh and automatically scales vertically.</p>
  <div class="demo">
    <div class="demo__inner">
      <button class="btn btn--primary dialog-button" type="button">Preview</button>
      <div role="dialog" class="dialog" hidden>
        <div class="dialog__mask"></div>
        <div class="dialog__window" role="document">
          <button aria-label="Close dialog" class="dialog__close" type="button">
            <svg aria-hidden="true" focusable="false" height="17" width="17">
              <use xlink:href="#icon-close"></use>
            </svg>
          </button>
          <div class="dialog__body">
            <h2>Heading</h2>
            <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore
              magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo
              consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur.
              Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
            <p>
              <a href="http://www.ebay.com">www.ebay.com</a>
            </p>
          </div>
        </div>
      </div>
    </div>
    {% highlight html %}
<div role="dialog" class="dialog" hidden>
  <div class="dialog__mask"></div>
  <div class="dialog__window" role="document">
    <button aria-label="Close dialog" class="dialog__close" type="button">
      <svg aria-hidden="true" focusable="false" height="17" width="17">
        <use xlink:href="#icon-close"></use>
      </svg>
    </button>
    <div class="dialog__body">
      <h2>Heading</h2>
      <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore
        magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo
        consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur.
        Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
      <p>
        <a href="http://www.ebay.com">www.ebay.com</a>
      </p>
    </div>
  </div>
</div>
    {% endhighlight %}
  </div>

  <h3>Fill Dialog</h3>
  <p>Apply the <span class="highlight">dialog__window--fill</span> modifier to have the lightbox fill at least 70% of the screen (centered vertically).</p>
  <div class="demo">
    <div class="demo__inner">
      <button class="btn btn--primary dialog-button" type="button">Preview</button>
      <div role="dialog" class="dialog" hidden>
        <div class="dialog__mask"></div>
        <div class="dialog__window dialog__window--fill" role="document">
          <button aria-label="Close dialog" class="dialog__close" type="button">
            <svg aria-hidden="true" focusable="false" height="17" width="17">
              <use xlink:href="#icon-close"></use>
            </svg>
          </button>
          <div class="dialog__body">
            <h2>Heading</h2>
            <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore
              magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo
              consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur.
              Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
            <p>
              <a href="http://www.ebay.com">www.ebay.com</a>
            </p>
          </div>
        </div>
      </div>
    </div>
    {% highlight html %}
<div role="dialog" class="dialog" hidden>
  <div class="dialog__mask"></div>
  <div class="dialog__window dialog__window--fill" role="document">
    <button aria-label="Close dialog" class="dialog__close" type="button">
      <svg aria-hidden="true" focusable="false" height="17" width="17">
        <use xlink:href="#icon-close"></use>
      </svg>
    </button>
    <div class="dialog__body">
      <h2>Heading</h2>
      <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore
        magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo
        consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur.
        Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
      <p>
        <a href="http://www.ebay.com">www.ebay.com</a>
      </p>
    </div>
  </div>
</div>
    {% endhighlight %}
  </div>

  <h3>Left Panel Dialog</h3>
  <p>Apply the <span class="highlight">dialog__window--left</span> modifier to have the dialog act as a left side panel (100vh height and aligned to the left side of the screen).</p>
  <div class="demo">
    <div class="demo__inner">
      <button class="btn btn--primary dialog-button" type="button">Preview</button>
      <div role="dialog" class="dialog" hidden>
        <div class="dialog__mask"></div>
        <div class="dialog__window dialog__window--left" role="document">
          <button aria-label="Close dialog" class="dialog__close" type="button">
            <svg aria-hidden="true" focusable="false" height="17" width="17">
              <use xlink:href="#icon-close"></use>
            </svg>
          </button>
          <div class="dialog__body">
            <h2>Heading</h2>
            <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore
              magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo
              consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur.
              Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
            <p>
              <a href="http://www.ebay.com">www.ebay.com</a>
            </p>
          </div>
        </div>
      </div>
    </div>
    {% highlight html %}
<div role="dialog" class="dialog" hidden>
  <div class="dialog__mask"></div>
  <div class="dialog__window dialog__window--left" role="document">
    <button aria-label="Close dialog" class="dialog__close" type="button">
      <svg aria-hidden="true" focusable="false" height="17" width="17">
        <use xlink:href="#icon-close"></use>
      </svg>
    </button>
    <div class="dialog__body">
      <h2>Heading</h2>
      <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore
        magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo
        consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur.
        Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
      <p>
        <a href="http://www.ebay.com">www.ebay.com</a>
      </p>
    </div>
  </div>
</div>
    {% endhighlight %}
  </div>

  <h3>Right Panel Dialog</h3>
  <p>Apply the <span class="highlight">dialog__window--right</span> modifier to have the dialog act as a right side panel (100vh height and aligned to the right side of the screen).</p>
  <div class="demo">
    <div class="demo__inner">
      <button class="btn btn--primary dialog-button" type="button">Preview</button>
      <div role="dialog" class="dialog" hidden>
        <div class="dialog__mask"></div>
        <div class="dialog__window dialog__window--right" role="document">
          <button aria-label="Close dialog" class="dialog__close" type="button">
            <svg aria-hidden="true" focusable="false" height="17" width="17">
              <use xlink:href="#icon-close"></use>
            </svg>
          </button>
          <div class="dialog__body">
            <h2>Heading</h2>
            <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore
              magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo
              consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur.
              Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
            <p>
              <a href="http://www.ebay.com">www.ebay.com</a>
            </p>
          </div>
        </div>
      </div>
    </div>
    {% highlight html %}
<div role="dialog" class="dialog" hidden>
  <div class="dialog__mask"></div>
  <div class="dialog__window dialog__window--right" role="document">
    <button aria-label="Close dialog" class="dialog__close" type="button">
      <svg aria-hidden="true" focusable="false" height="17" width="17">
        <use xlink:href="#icon-close"></use>
      </svg>
    </button>
    <div class="dialog__body">
      <h2>Heading</h2>
      <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore
        magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo
        consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur.
        Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
      <p>
        <a href="http://www.ebay.com">www.ebay.com</a>
      </p>
    </div>
  </div>
</div>
    {% endhighlight %}
  </div>

  <h3>Fullscreen Panel Dialog</h3>
  <p>Apply the <span class="highlight">dialog__window--full</span> modifier to have the dialog take up the entire viewport.</p>
  <div class="demo">
    <div class="demo__inner">
      <button class="btn btn--primary dialog-button" type="button">Preview</button>
      <div role="dialog" class="dialog" hidden>
        <div class="dialog__mask"></div>
        <div class="dialog__window dialog__window--full" role="document">
          <button aria-label="Close dialog" class="dialog__close" type="button">
            <svg aria-hidden="true" focusable="false" height="17" width="17">
              <use xlink:href="#icon-close"></use>
            </svg>
          </button>
          <div class="dialog__body">
            <h2>Heading</h2>
            <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore
              magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo
              consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur.
              Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
            <p>
              <a href="http://www.ebay.com">www.ebay.com</a>
            </p>
          </div>
        </div>
      </div>
    </div>
    {% highlight html %}
<div role="dialog" class="dialog" hidden>
  <div class="dialog__mask"></div>
  <div class="dialog__window dialog__window--full" role="document">
    <button aria-label="Close dialog" class="dialog__close" type="button">
      <svg aria-hidden="true" focusable="false" height="17" width="17">
        <use xlink:href="#icon-close"></use>
      </svg>
    </button>
    <div class="dialog__body">
      <h2>Heading</h2>
      <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore
        magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo
        consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur.
        Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
      <p>
        <a href="http://www.ebay.com">www.ebay.com</a>
      </p>
    </div>
  </div>
</div>
    {% endhighlight %}
  </div>

  <h3 id="dialog-transitions">Dialog Transitions</h3>
  <p>Skin currently supports two types of dialog transition: fade and slide.
  Because CSS cannot transition an element to and from <span class="highlight">hidden</span> (i.e. "display:none"), transitions are acheived using two classes applied during different stages of the animation.
  Before applying an animation class to the dialog component you must first apply the primer class which will be <span class="highlight">$name--from</span> where <span class="highlight">$name</span> is the base class.
  The dialog component has two different animation base classes <span class="highlight">dialog-show</span> and <span class="highlight">dialog-hide</span>.
  </p>
  <p>Firstly the <span class="highlight">--from</span> modifier must be applied to dialog component to prime animation.
  One animation frame later the <span class="highlight">--from</span> modifier must be removed and the base class applied to start the animation.
  Finally once the animation has completed remove the base class.
  </p>

  <p>An example implementation is shown below.</p>

  {% highlight js %}
const $dialog = document.querySelector(".dialog");
const $window = $dialog.querySelector(".dialog__window");
const $openBtn = document.querySelector("#dialog-open");
const $closeBtn = $dialog.querySelector(".dialog__close");

// Trigger dialog show animation.
$openBtn.addEventListener("click", () => {
  $dialog.classList.add("dialog-show--from");
  $dialog.removeAttribute("hidden");

  requestAnimationFrame(() => requestAnimationFrame(() => {
    // Two RAFS to ensure this happens on the next animation frame.
    $dialog.classList.remove("dialog-show--from");
    $dialog.classList.add("dialog-show");

    $window.addEventListener("transitionend", () => {
      /**
       * The window animation is the longest, so we wait for it to
       * finish before removing the classes.
       */
      $dialog.classList.remove("dialog-show");
    }, { once: true });
  }));
});

// Trigger dialog hide animation. (In the real world the .dialog__mask) should also be handled.
$closeBtn.addEventListener("click", () => {
  $dialog.classList.add("dialog-hide--from");
  $dialog.setAttribute("hidden", "");

  requestAnimationFrame(() => requestAnimationFrame(() => {
    // Two RAFS to ensure this happens on the next animation frame.
    $dialog.classList.remove("dialog-hide--from");
    $dialog.classList.add("dialog-hide");

    $window.addEventListener("transitionend", () => {
      /**
       * The window animation is the longest, so we wait for it to
       * finish before removing the classes.
       */
      $dialog.classList.remove("dialog-hide");
    }, { once: true });
  }));
});

  {% endhighlight %}

  <h3>Fade Transition</h3>
  <p>Any dialog window and mask can be faded in and out, using the <span class="highlight">dialog__window--fade</span> and <span class="highlight">dialog__mask--fade</span> modifiers.</p>
  <p>The default fade duration is 16ms.<p>
  <div class="demo">
    <div class="demo__inner">
      <button class="btn btn--primary dialog-button" type="button">Lightbox</button>
      <div role="dialog" class="dialog" hidden>
        <div class="dialog__mask dialog__mask--fade"></div>
        <div class="dialog__window dialog__window--fade" role="document">
          <button aria-label="Close dialog" class="dialog__close" type="button">
            <svg aria-hidden="true" focusable="false" height="17" width="17">
              <use xlink:href="#icon-close"></use>
            </svg>
          </button>
          <div class="dialog__body">
            <h2>Heading</h2>
            <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore
              magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo
              consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur.
              Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
            <p>
              <a href="http://www.ebay.com">www.ebay.com</a>
            </p>
          </div>
        </div>
      </div>

      <button class="btn btn--primary dialog-button" type="button">Fullscreen</button>
      <div role="dialog" class="dialog" hidden>
        <div class="dialog__mask dialog__mask--fade"></div>
        <div class="dialog__window dialog__window--full dialog__window--fade" role="document">
          <button aria-label="Close dialog" class="dialog__close" type="button">
            <svg aria-hidden="true" focusable="false" height="17" width="17">
              <use xlink:href="#icon-close"></use>
            </svg>
          </button>
          <div class="dialog__body">
            <h2>Heading</h2>
            <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore
              magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo
              consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur.
              Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
            <p>
              <a href="http://www.ebay.com">www.ebay.com</a>
            </p>
          </div>
        </div>
      </div>
    </div>
    {% highlight html %}
<div role="dialog" class="dialog" hidden>
  <div class="dialog__mask"></div>
  <div class="dialog__window dialog__window--full" role="document">
    <button aria-label="Close dialog" class="dialog__close" type="button">
      <svg aria-hidden="true" focusable="false" height="17" width="17">
        <use xlink:href="#icon-close"></use>
      </svg>
    </button>
    <div class="dialog__body">
      <h2>Heading</h2>
      <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore
        magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo
        consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur.
        Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
      <p>
        <a href="http://www.ebay.com">www.ebay.com</a>
      </p>
    </div>
  </div>
</div>

<div role="dialog" class="dialog" hidden>
  <div class="dialog__mask dialog__mask--fade"></div>
  <div class="dialog__window dialog__window--full dialog__window--fade" role="document">
    <button aria-label="Close dialog" class="dialog__close" type="button">
      <svg aria-hidden="true" focusable="false" height="17" width="17">
        <use xlink:href="#icon-close"></use>
      </svg>
    </button>
    <div class="dialog__body">
      <h2>Heading</h2>
      <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore
        magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo
        consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur.
        Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
      <p>
        <a href="http://www.ebay.com">www.ebay.com</a>
      </p>
    </div>
  </div>
</div>
    {% endhighlight %}
  </div>

  <h3>Slide Transition</h3>
  <p>Any panel or fullscreen dialog can slide in and out, using the <span class="highlight">dialog__window--slide</span> modifier.</p>
  <p>The slide transition duration is 32ms. An accompanying <span class="highlight">dialog__mask--fade-slow</span> modifier can be applied to a dialog panel's mask. This slower fade matches the 32ms of the slide transition.<p>
  <div class="demo">
    <div class="demo__inner">
      <button class="btn btn--primary dialog-button" type="button">Left Panel</button>
      <div role="dialog" class="dialog" hidden>
        <div class="dialog__mask dialog__mask--fade-slow"></div>
        <div class="dialog__window dialog__window--left dialog__window--slide" role="document">
          <button aria-label="Close dialog" class="dialog__close" type="button">
            <svg aria-hidden="true" focusable="false" height="17" width="17">
              <use xlink:href="#icon-close"></use>
            </svg>
          </button>
          <div class="dialog__body">
            <h2>Heading</h2>
            <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore
              magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo
              consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur.
              Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
            <p>
              <a href="http://www.ebay.com">www.ebay.com</a>
            </p>
          </div>
        </div>
      </div>

      <button class="btn btn--primary dialog-button" type="button">Right Panel</button>
      <div role="dialog" class="dialog" hidden>
        <div class="dialog__mask dialog__mask--fade-slow"></div>
        <div class="dialog__window dialog__window--right dialog__window--slide" role="document">
          <button aria-label="Close dialog" class="dialog__close" type="button">
            <svg aria-hidden="true" focusable="false" height="17" width="17">
              <use xlink:href="#icon-close"></use>
            </svg>
          </button>
          <div class="dialog__body">
            <h2>Heading</h2>
            <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore
              magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo
              consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur.
              Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
            <p>
              <a href="http://www.ebay.com">www.ebay.com</a>
            </p>
          </div>
        </div>
      </div>
    </div>
    {% highlight html %}
<div role="dialog" class="dialog" hidden>
    <div class="dialog__mask dialog__mask--fade-slow"></div>
    <div class="dialog__window dialog__window--left dialog__window--slide" role="document">
      <button aria-label="Close dialog" class="dialog__close" type="button">
        <svg aria-hidden="true" focusable="false" height="17" width="17">
          <use xlink:href="#icon-close"></use>
        </svg>
      </button>
      <div class="dialog__body">
        <h2>Heading</h2>
        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore
          magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo
          consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur.
          Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
        <p>
          <a href="http://www.ebay.com">www.ebay.com</a>
        </p>
      </div>
    </div>
  </div>
    {% endhighlight %}
  </div>
</div>
